<!DOCTYPE html>
<html lang="en">
    <head>

        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>F1 Stream | JDN</title>
        <link rel="stylesheet" href="style.css">
        <link rel="icon" href="https://jdn24.github.io/f1/F1.svg" type="image/x-icon">
    </head>
    <body>
        <header>
            <div class="logo-container">
                <img class="logo" src="https://jdn24.github.io/f1/F1.png" alt="F1 Logo" style="width: 100px;">
                <h1>F1 STREAM</h1> 
                <p style="display: none;"> | &nbsp; A Project by JDN</p>
            </div>
            <nav>
                <a href="./">HOME</a>
                <a href="./live">LIVE</a>
                <a href="#contact">CONTACT</a>
            </nav>
        </header>
        <div class="media-container">
            <iframe class="mobile-full-width" src="https://latifistreams.com/channel/raw2?url=aHR0cHM6Ly9ib25nc3BvcnRzLnN0cmVhbS9saXZlL2YxL2NodW5rcy5tM3U4" allow="autoplay; encrypted-media" frameborder="0" scrolling="no" allowfullscreen></iframe>
    
        <!--<iframe class="mobile-full-width" src="https://latifistreams.com/channel/raw2?url=aHR0cHM6Ly9saXZlMi5ub3RlYnVsay54eXovdWtfc3NmMS9pbmRleC5tM3U4" allow="autoplay; encrypted-media" height="100%" width="57%" frameborder="0" scrolling="no" allowfullscreen></iframe>
    --> <embed class="mobile-hide" src="https://f1-dash.com/dashboard" >
        
        </div>
        
        
            <div class="loading-overlay">
                <div class="logo-container-load">
                    <img class="logoload" src="https://jdn24.github.io/f1/F1.png" alt="F1 Logo">
                    <p>Loading...</p>
                </div>
            </div>

            <div id="streamOfflineOverlay" class="loading-overlay" style="display: none;">
            
            </div> 

            <script>
                window.onload = function() {
                // Show the loading overlay when the page loads
                document.querySelector('.loading-overlay').style.display = 'flex';

                 // Hide the loading overlay after 3 seconds
                setTimeout(function() {
                document.querySelector('.loading-overlay').style.display = 'none';
                }, 7000);
                // Detect mobile devices and show a popup
                if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) {
                    alert("If you'd like to view the telemetry, Please view this website on a desktop.");
                }
                                        };
            </script>

                <script>
    document.addEventListener('DOMContentLoaded', function() {
        const onlinePeriods = [
            //Austria
            { start: '2024-06-28T14:00:00', end: '2024-06-28T16:00:00' }, //Practice 1
            { start: '2024-06-28T18:00:00', end: '2024-06-28T19:45:00' }, //Sprint Quali
            { start: '2024-06-29T13:30:00', end: '2024-06-29T15:30:00' }, //Sprint
            { start: '2024-06-29T17:30:00', end: '2024-06-29T19:30:00' }, //Quali
            { start: '2024-06-30T16:30:00', end: '2024-06-30T19:30:00' }, //Race

        ];

        const now = new Date();

        let isOnline = onlinePeriods.some(period => {
            const startTime = new Date(period.start);
            const endTime = new Date(period.end);
            return now >= startTime && now <= endTime;
        });

        if (!isOnline) {
            document.getElementById('streamOfflineOverlay').style.display = 'flex';
        }
    });
</script>
<script>
    window.onload = function() {
        // Define your online periods
        const onlinePeriods = [
            //Austria
            { start: '2024-06-28T14:00:00', end: '2024-06-28T16:00:00' }, //Practice 1
            { start: '2024-06-28T18:00:00', end: '2024-06-28T19:45:00' }, //Sprint Quali
            { start: '2024-06-29T13:30:00', end: '2024-06-29T15:30:00' }, //Sprint
            { start: '2024-06-29T17:30:00', end: '2024-06-29T19:30:00' }, //Quali
            { start: '2024-06-30T16:30:00', end: '2024-06-30T19:30:00' }, //Race

        ];

        // Function to find the nearest online period
        function findNearestOnlinePeriod() {
            const now = new Date();
            return onlinePeriods.reduce((nearest, period) => {
                const startTime = new Date(period.start);
                const endTime = new Date(period.end);
                if (startTime >= now && (!nearest || startTime < new Date(nearest.start))) {
                    return period;
                }
                return nearest;
            }, null);
        }

        // Function to update countdown
        function updateCountdown() {
            const nearestOnlinePeriod = findNearestOnlinePeriod();
            if (!nearestOnlinePeriod) {
                document.getElementById('streamOfflineOverlay').querySelector('.logo').innerText = 'Stream is Offline!';
                return;
            }
            const now = new Date();
            const startTime = new Date(nearestOnlinePeriod.start);
            const diff = startTime - now;
            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((diff % (1000 * 60)) / 1000);
            document.getElementById('streamOfflineOverlay').innerHTML = `<div class="stream-info">
                    <div class="logo-container">
                        <img class="offlinelogo" src="https://jdn24.github.io/f1/F1.png" alt="F1 Logo">
                        <p class="offlinetext">STREAM IS OFFLINE!</p>
                    </div>
                    <div id="countdownTimer" class="countdown">${days}D ${hours}H ${minutes}M ${seconds}S UNTIL THE NEXT STREAM</div>
                    <a href="https://jdn24.github.io/f1" class="home-button">Home</a>
                </div>`;
        }

        // Show the loading overlay when the page loads
        document.querySelector('.loading-overlay').style.display = 'flex';

        // Hide the loading overlay after 3 seconds
        setTimeout(function() {
            document.querySelector('.loading-overlay').style.display = 'none';
        }, 7000);

        // Initially update countdown
        updateCountdown();
        // Update countdown every second
        setInterval(updateCountdown, 1000);
    };
</script>
        <footer>
            <p>Made with â™¥ by JDN. <br>
                
                This project/website is unofficial and is not associated in any way with the Formula 1 companies. F1, FORMULA ONE, FORMULA 1, FIA FORMULA ONE WORLD CHAMPIONSHIP, GRAND PRIX and related marks are trade marks of Formula One Licensing B.V</p>
        </footer>


            

            
            
    
    </body>
</html>